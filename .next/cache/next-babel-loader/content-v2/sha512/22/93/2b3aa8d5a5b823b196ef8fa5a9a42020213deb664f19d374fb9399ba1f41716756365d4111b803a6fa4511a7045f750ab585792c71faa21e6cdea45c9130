{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport firebase from \"firebase\"; // import \"firebase/storage\";\n\nimport Lesson from \"./parts/Lesson\";\nimport Title from \"../normal_parts/Title\";\n\nfunction LessonList() {\n  //ステートの設定\n  const {\n    0: items,\n    1: setItems\n  } = useState(\"no item\"); //lessondataはfirebaseのレッスンdataをいったん保管する\n  //lessonidはfirebaseのレッスンidをいったん保管する\n  //lessonitemsは値を渡された<Lesson/>が要素の配列ををいったん保管する\n\n  const getFireData = async () => {\n    const db = firebase.firestore();\n    const lessondata = [];\n    const lessonid = [];\n    const lessonitems = [];\n    await db.collection(\"lessons\").get().then(function (querySnapshot) {\n      // 受け取ったオブジェクトの配列に対して、forEachで繰り返し処理\n      //データをアンシフトで配列に入れることで、新しい投稿が配列の頭にくる\n      querySnapshot.forEach(function (doc) {\n        lessondata.unshift(doc.data());\n        lessonid.unshift(doc.id);\n      }); //firebaseのデータを入れた配列に対して繰り返し処理で\n      //レッスンコンポーネントに値を渡し、それをlessonitemsにpushする\n      //変数をかませてあるが、不要な気がする\n\n      for (let i in lessondata) {\n        let id = lessonid[i];\n        let name = lessondata[i].lessonname;\n        let place = lessondata[i].lessonplace;\n        let time = lessondata[i].lessontime;\n        let text = lessondata[i].lessontext;\n        let price = lessondata[i].lessonprice;\n        lessonitems.push( /*#__PURE__*/_jsx(Lesson, {\n          lessonid: id,\n          name: name,\n          place: place,\n          time: time,\n          text: text,\n          price: price\n        }));\n      } //最後にlessonitemsをステートにいれる\n\n\n      setItems(lessonitems);\n    });\n  };\n\n  if (items == \"no item\") {\n    getFireData();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Title, {\n      title: \"レッスン一覧\",\n      subtitle: \"時間や場所、レベルなど自分に合ったレッスンを見つけよう\"\n    }), items]\n  });\n}\n\nexport default LessonList;","map":null,"metadata":{},"sourceType":"module"}