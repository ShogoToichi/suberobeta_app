{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState } from \"react\";\nimport firebase from \"firebase\"; // import \"firebase/storage\";\n\nimport Lesson from \"./parts/Lesson\";\nimport Title from \"../normal_parts/Title\";\n\nfunction LessonList() {\n  //ステートの設定\n  var _useState = useState(\"no item\"),\n      items = _useState[0],\n      setItems = _useState[1]; //lessondataはfirebaseのレッスンdataをいったん保管する\n  //lessonidはfirebaseのレッスンidをいったん保管する\n  //lessonitemsは値を渡された<Lesson/>が要素の配列ををいったん保管する\n\n\n  var getFireData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var db, lessondata, lessonid, lessonitems;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              db = firebase.firestore();\n              lessondata = [];\n              lessonid = [];\n              lessonitems = [];\n              _context.next = 6;\n              return db.collection(\"lessons\").get().then(function (querySnapshot) {\n                // 受け取ったオブジェクトの配列に対して、forEachで繰り返し処理\n                //データをアンシフトで配列に入れることで、新しい投稿が配列の頭にくる\n                querySnapshot.forEach(function (doc) {\n                  lessondata.unshift(doc.data());\n                  lessonid.unshift(doc.id);\n                }); //firebaseのデータを入れた配列に対して繰り返し処理で\n                //レッスンコンポーネントに値を渡し、それをlessonitemsにpushする\n                //変数をかませてあるが、不要な気がする\n\n                for (var i in lessondata) {\n                  var id = lessonid[i];\n                  var name = lessondata[i].lessonname;\n                  var place = lessondata[i].lessonplace;\n                  var time = lessondata[i].lessontime;\n                  var text = lessondata[i].lessontext;\n                  var price = lessondata[i].lessonprice;\n                  lessonitems.push( /*#__PURE__*/_jsx(Lesson, {\n                    lessonid: id,\n                    name: name,\n                    place: place,\n                    time: time,\n                    text: text,\n                    price: price\n                  }));\n                } //最後にlessonitemsをステートにいれる\n\n\n                setItems(lessonitems);\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getFireData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (items == \"no item\") {\n    getFireData();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Title, {\n      title: \"レッスン一覧\",\n      subtitle: \"時間や場所、レベルなど自分に合ったレッスンを見つけよう\"\n    }), items]\n  });\n}\n\nexport default LessonList;","map":null,"metadata":{},"sourceType":"module"}