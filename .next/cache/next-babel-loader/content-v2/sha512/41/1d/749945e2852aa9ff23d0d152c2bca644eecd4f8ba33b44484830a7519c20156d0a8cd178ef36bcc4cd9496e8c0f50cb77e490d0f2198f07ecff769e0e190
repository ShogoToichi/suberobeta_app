{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _classCallCheck from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport firebase from \"firebase\";\nimport Button from '@material-ui/core/Button';\n\nvar Account = /*#__PURE__*/function (_Component) {\n  _inherits(Account, _Component);\n\n  var _super = _createSuper(Account);\n\n  function Account(props) {\n    var _this;\n\n    _classCallCheck(this, Account);\n\n    _this = _super.call(this, props); // 属性値として使うためにバインド\n\n    _defineProperty(_assertThisInitialized(_this), \"style\", {\n      fontSize: \"12pt\",\n      padding: \"5px 10px\"\n    });\n\n    _this.login_check = _this.login_check.bind(_assertThisInitialized(_this));\n    return _this;\n  } //ログイン処理\n\n\n  _createClass(Account, [{\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\n      var provider = new firebase.auth.GoogleAuthProvider();\n      var self = this;\n      firebase.auth().signInWithPopup(provider) //ログイン処理完了後resultで値を受け取りReduxへ\n      .then(function (result) {\n        _this2.props.dispatch({\n          type: \"UPDATE_USER\",\n          value: {\n            login: true,\n            username: result.user.displayName,\n            email: result.user.email,\n            imageurl: \"\"\n          }\n        }); //ログイン時の処理をpropsで受け取れるようにする\n        //とりま使ってない\n        // this.props.onLogined();\n\n      });\n    } //ログアウト機能\n\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      console.log(\"logout\");\n      firebase.auth().signOut();\n      this.props.dispatch({\n        type: \"UPDATE_USER\",\n        value: {\n          login: false,\n          username: \"(click here!)\",\n          email: \"\",\n          data: [],\n          imageurl: \"\"\n        }\n      }); // this.props.onLogouted();\n    } //ログイン、ログアウト処理をクリック時に分岐する関数\n\n  }, {\n    key: \"login_check\",\n    value: function login_check() {\n      if (this.props.login === false) {\n        this.login();\n      } else {\n        this.logout();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsx(Button, {\n        variant: \"outlined\",\n        size: \"large\",\n        color: \"inherit\",\n        onClick: this.login_check,\n        children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n      });\n    }\n  }]);\n\n  return Account;\n}(Component);\n\nAccount = connect(function (state) {\n  return state;\n})(Account);\nexport default Account;","map":null,"metadata":{},"sourceType":"module"}