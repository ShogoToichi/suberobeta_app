{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/t.osato/Documents/subero/suberobeta_app-1/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//要追加 : 画像アップロード\nimport React, { useState } from \"react\";\nimport firebase from \"firebase\";\nimport \"firebase/storage\";\nimport { connect } from \"react-redux\";\nimport Lib from \"../../Lib/address_lib\";\nimport Link from \"next/link\";\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { CardHeader } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport { PinDropSharp } from '@material-ui/icons';\nvar myprofile = makeStyles({\n  card: {\n    marginTop: '20px'\n  },\n  button: {\n    backgroundColor: '#E7E7E7',\n    color: 'balck'\n  },\n  title: {\n    paddingBottom: \"16px\",\n    borderBottom: \"solid 4px #DDD\"\n  }\n});\n\nfunction MyProfile(props) {\n  //ステートの設定\n  var _useState = useState(\"no data\"),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(\"no data\"),\n      introduction = _useState2[0],\n      setIntroduction = _useState2[1];\n\n  var _useState3 = useState(null),\n      imageurl = _useState3[0],\n      setImageurl = _useState3[1];\n\n  var getFireData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var db, email;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              db = firebase.firestore(); //emailにReduxからユーザーのemailを取得\n\n              email = Lib.encodeEmail(props.email); //emailでfirebaseを参照\n\n              _context.next = 4;\n              return db.collection(\"users\").doc(email).get().then(function (doc) {\n                //取得したデータを定数に入れてから、ステートに入れる\n                var profiledata = doc.data();\n                setName(profiledata.profile.name);\n                setIntroduction(profiledata.profile.introduction);\n                setImageurl(profiledata.imageurl);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getFireData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (name == \"no data\") {\n    getFireData();\n  }\n\n  var classes = myprofile();\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Typography, {\n      style: {\n        fontWeight: 'bold',\n        margin: '15px'\n      },\n      variant: \"h3\",\n      className: classes.title,\n      children: \"My page\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: classes.card,\n      children: /*#__PURE__*/_jsxs(Card, {\n        children: [/*#__PURE__*/_jsx(CardHeader, {\n          avatar: /*#__PURE__*/_jsx(Avatar, {\n            \"aria-label\": \"recipe\",\n            src: imageurl,\n            className: classes.avatar\n          }),\n          action: /*#__PURE__*/_jsx(Link, {\n            href: \"/profile_edit\",\n            children: /*#__PURE__*/_jsx(Button, {\n              variant: \"outlined\",\n              size: \"large\",\n              className: classes.button,\n              children: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u5909\\u66F4\"\n            })\n          }),\n          title: name\n        }), /*#__PURE__*/_jsxs(CardContent, {\n          children: [/*#__PURE__*/_jsx(Typography, {\n            style: {\n              fontWeight: 'bold',\n              margin: '5px',\n              borderBottom: \"solid 1px #BBB\",\n              paddingBottom: \"7px\"\n            },\n            variant: \"h5\",\n            children: \"\\u81EA\\u5DF1\\u7D39\\u4ECB\"\n          }), /*#__PURE__*/_jsx(Typography, {\n            style: {\n              marginTop: '10px'\n            },\n            variant: \"h5\",\n            children: introduction\n          })]\n        })]\n      })\n    })]\n  });\n}\n\nMyProfile = connect(function (state) {\n  return state;\n})(MyProfile);\nexport default MyProfile;","map":null,"metadata":{},"sourceType":"module"}