# Vim キーバインド

## surorund

- `cs"'` (cs 変える対象変更後)`"Hello, world!"` を `'Hello, world!'`に変更. 他にはカッコ()やタグ t, \<p\>等
- `ds"` 区切り文字""の削除
- `yss)` (yss 入れたいカッコの閉じカッコ; 最初のカッコだとスペースが入る)行全体に()をつける
- `ysiw<p>` (ysiw 文字)
  ys サラウンドの i インサート w ワード(単語を囲む)\<p\>囲みたい文字，カッコ
- 行の v モードで`S<p class='important'>` ()
<p class='important'>
"Hello world!"
</p>

## redo, undo

- `.` 直前のコマンドの繰り返し
- `u` コマンドを戻す undo
- `Ctrl r` undo の取り消し redo
- `U` カレント行での最新の変更を全て undo

## insert mode

- `o` or `O` 現在の行の下(上)に改行し，インサートモード
- `i` or `a` 現在のカーソルの左(右)側にインサートモード．大文字で行頭(行末)
- `cc` or `S` 1 行削除してインサートモード
- `Ctrl o` インサートモード時に 1 文字だけノーマルモードのコマンドを受け付ける
- `{num}o` {num}行だけ下に新しい行を挿入し，テキストを追加
- `Ctrl r + 0` insert モード時，レジスタ 0 に保存されている文字列を貼り付ける. 通常, y を使用してコピーした文字列は, レジスタ 0 に保存される.

## 移動

- `gg` ページの先頭に移動
- `G` ページの最後に移動
- `{num}G` or `:{num}` {num}行目に移動
- `f{string}` 行中で{string}がある位置を find，`;`で繰り返し，`,`戻る，`Fa`でこの逆, `t{string}で手前までバージョン
- `w` or `W` 次の word の先頭に移動
- `b` or `B` 現在もしくは前の単語の先頭に back
- `e` or `E` 単語の end まで移動
- `ge` or `gE` 前の単語の末尾に移動(大文字で.や;の無視)

- `H`, `M`, `L` ウインドウ内の一番上(真ん中，一番下)に移動，`{num}H`で行頭から{num}行目に移動
- `^` or `0` 行のテキストの先頭に移動
- `$` 行の最後に移動

- `zz` 現在のカーソル位置を中央となるように画面をスクロール
- `zt` 現在のカーソル位置が一番上になるように画面をスクロール
- `Ctrl u` or `Ctrl d` 半画面進む(戻る)
- `Ctrl b` or `Ctrl f` 1 画面進む(戻る)
- `Ctrl o` or `Ctrl i` カーソルを元居た場所に戻す(その取り消し) o はできないような？
- `%` 対応するカッコに移動
- `(` or `)` 文単位での移動．前(後ろ)の文の先頭に移動
- `{` or `}` 段落単位での移動．前(後ろ)の文の先頭に移動
- `g;` 直前に変更した位置にカーソルを移動
- `gj` or `gk` 折りたたまれているものの行移動

## 削除(コピー)

- `dd` カーソルがある行の delete，`yy` or `Y`でヤンク
- `3d` 3 行目を delete，`yy`でヤンク
- `x` カーソル下の 1 文字削除
- `X` カーソル手前の 1 文字削除
- `D` カーソル位置から行末まで削除
- `C` カーソル位置から行末まで削除して，インサートモード
- `d{motion}` or `c{motion}` {motion}で指定したテキストを削除(その後インサートモード)
- `y{motion}` {motion}で指定したテキストをヤンク
- `{num}D` カーソル位置から{num}行目末まで削除
- `:{start},{end}d` {start}行目から{end}行目までの削除

## 単語削除(コピー)

- `diw` カーソル上の単語を削除 delete in word, `ciw`でインサートモードに，`yiw`でコピー，`viw`で選択, `i`を入れない場合はカーソル位置から右部分となる
- `di"` 行中の"", (), tag(t)で囲まれた文字の削除.複数あるときにはカーソルの位置で削除範囲を決定, `ci"`でインサートモードに，`yi"`でコピー，`vi"`で選択

## 検索

- `/{string}` ページ内の文字列を検索，`n`で次に移動，`N`で前に移動, `?文字列`で逆方向, `:noh`で検索後のハイライトの削除
- `*` カーソル下の単語を後方検索，`#`だと前方検索, `g*`でカーソル下の単語を含む文字列を検索

## 置換

- `:%s/検索する文字列/置換する文字列/g` ファイル上の全ての'検索する文字列'を'置換する文字列'に置換, `%`を省くとカーソル上の文字列から．
- `:{start},{end}s/{置換前}/{置換後}/g` {start}行目から{end}行目までの置換

## 選択 Visual mode

- `v` Visual モードに以降, `y`で選択したもののコピー，`d`で削除
- `V` Inline Visual モードに移行
- `Ctrl v` Visual Block モード

## 編集

- `>>` インデントを追加
- `<<` インデントを追加
- `Ctrl a` or `Ctrl x` 数字のインクリメント(デクリメント), カーソル下でなくても使える
- `r文字` カーソル下の 1 文字を r の後に入力した文字に置換
- `R` Replace モードに切り替え, `Esc`でモードの終了
- `p` or `P` カーソルの後ろ(前)にペースト
- `~` 選択範囲の大文字小文字の入れ替え
- `guu` or `gUU` 行のアルファベットを全て小文字(大文字)に，カーソルは行頭
- `gu{motion}` {motion}で指定した位置までのアルファベットを小文字に
- `"0p` dd などで上書きされたときに以前のヤンクを使用できる("0 はヤンクレジスタ：直前にヤンクしたテキストが保持される．)
- `"_dd` レジスタに保存されたテキストを上書きすることなくカーソル下のテキストを削除("\_はブラックホールレジスタと呼ばれる)
- `"ayiw` a というレジスタにテキストを保存することができる．
- `J` カーソルの行とその下の行を結合

## 記録

- `qa` コマンドの記録開始
- `q` 記録の終了
- `@a` 記録したコマンドの実行

## ショートカット登録したコマンド

- `[` 定義を開く
- `Space o` or `Space O` 空の行を下(上)に挿入
- `Spece /` コメントアウト
- `Spece :` コマンドパレット
- `Spece ;` ファイル検索
- `Spece a` 全選択(=`Ctrl a`)

## タブ操作

- `:tabnew [file]` 新しいタブを開く(ファイル名を入力した場合はそのファイルを開く)
- `:tabclose` or `:q` タブを閉じる
- `:tabnext` or `gt` 次のタブに移動する，`gt`の前に数字をつけるとその番号のタブに移動
- `:tabprevious` or `gT` 前のタブに移動する
- `:tabfirst` 1 番目のタブに移動する
- `:tablast` 最後のタブに移動する
- `:tabonly` 現在のタブ以外すべてのタブを閉じる

## 編集，保存，終了

- `:e [file]` file を開く
- `:e.` エクスプローラーを開く
- `:w` 保存
- `:q` 終了
- `:q!` or `ZQ` 保存せずに終了
- `ZZ` 保存して終了

# 参考

- Vim コマンド : 便利一覧
  https://qiita.com/iwaseasahi/items/f536bb3772d2fad5e03c

- Vim の 1 文字コマンドをまとめてみる (アルファベット編)
  https://qiita.com/jader/items/17c07155d3230d51823d

# コメント

The quick brown
fox jumps
over the lazy dog の b
